<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adrian | SDR Performance Dashboard</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<script src="data.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg-primary: #050a0f;
    --bg-card: #080f18;
    --bg-card2: #0a1520;
    --accent-cyan: #00d4ff;
    --accent-orange: #ff6b1a;
    --accent-green: #00ff88;
    --accent-yellow: #ffd600;
    --accent-purple: #a855f7;
    --text-primary: #e8f4fd;
    --text-muted: #4a7a9b;
    --border: rgba(0,212,255,0.15);
    --glow-cyan: 0 0 20px rgba(0,212,255,0.4);
    --glow-orange: 0 0 20px rgba(255,107,26,0.4);
    --glow-green: 0 0 20px rgba(0,255,136,0.4);
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: var(--bg-primary);
    color: var(--text-primary);
    font-family: 'Rajdhani', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(rgba(0,212,255,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,212,255,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
  }
  body::after {
    content: '';
    position: fixed;
    top: -50%; left: -50%;
    width: 200%; height: 200%;
    background: radial-gradient(ellipse at 20% 20%, rgba(0,212,255,0.04) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(255,107,26,0.04) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
    animation: bgPulse 8s ease-in-out infinite alternate;
  }
  @keyframes bgPulse { 0% { opacity: 0.5; } 100% { opacity: 1; } }
  .dashboard { position: relative; z-index: 1; max-width: 1600px; margin: 0 auto; padding: 24px; }
  .header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 32px; padding-bottom: 20px; border-bottom: 1px solid var(--border); }
  .header-left { display: flex; flex-direction: column; }
  .header-subtitle { font-family: 'Share Tech Mono', monospace; color: var(--accent-cyan); font-size: 11px; letter-spacing: 4px; text-transform: uppercase; margin-bottom: 6px; }
  .header-title { font-family: 'Orbitron', monospace; font-size: 28px; font-weight: 900; letter-spacing: 2px; background: linear-gradient(135deg, #fff 30%, var(--accent-cyan)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
  .header-right { display: flex; align-items: center; gap: 20px; }
  .live-badge { display: flex; align-items: center; gap: 8px; background: rgba(0,255,136,0.08); border: 1px solid rgba(0,255,136,0.3); border-radius: 20px; padding: 6px 16px; font-family: 'Share Tech Mono', monospace; font-size: 11px; color: var(--accent-green); letter-spacing: 2px; }
  .live-dot { width: 6px; height: 6px; background: var(--accent-green); border-radius: 50%; box-shadow: var(--glow-green); animation: pulse 2s infinite; }
  @keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(1.3); } }
  .current-date { font-family: 'Share Tech Mono', monospace; font-size: 12px; color: var(--text-muted); letter-spacing: 1px; }
  .month-tabs { display: flex; gap: 8px; margin-bottom: 28px; }
  .tab { padding: 8px 24px; border: 1px solid var(--border); background: transparent; color: var(--text-muted); font-family: 'Orbitron', monospace; font-size: 11px; letter-spacing: 2px; cursor: pointer; transition: all 0.3s; clip-path: polygon(8px 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%); }
  .tab:hover { border-color: var(--accent-cyan); color: var(--accent-cyan); }
  .tab.active { background: rgba(0,212,255,0.1); border-color: var(--accent-cyan); color: var(--accent-cyan); box-shadow: var(--glow-cyan); }
  .kpi-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 12px; margin-bottom: 24px; }
  .kpi-card { background: var(--bg-card); border: 1px solid var(--border); padding: 18px 16px; position: relative; overflow: hidden; clip-path: polygon(0 0, calc(100% - 10px) 0, 100% 10px, 100% 100%, 0 100%); transition: all 0.3s; }
  .kpi-card::before { content: ''; position: absolute; top: 0; left: 0; width: 3px; height: 100%; }
  .kpi-card.cyan::before { background: var(--accent-cyan); box-shadow: var(--glow-cyan); }
  .kpi-card.orange::before { background: var(--accent-orange); box-shadow: var(--glow-orange); }
  .kpi-card.green::before { background: var(--accent-green); box-shadow: var(--glow-green); }
  .kpi-card.yellow::before { background: var(--accent-yellow); }
  .kpi-card.purple::before { background: var(--accent-purple); }
  .kpi-card:hover { transform: translateY(-2px); border-color: rgba(0,212,255,0.3); }
  .kpi-label { font-family: 'Share Tech Mono', monospace; font-size: 9px; letter-spacing: 2px; color: var(--text-muted); text-transform: uppercase; margin-bottom: 8px; }
  .kpi-value { font-family: 'Orbitron', monospace; font-size: 22px; font-weight: 700; line-height: 1; margin-bottom: 6px; }
  .kpi-card.cyan .kpi-value { color: var(--accent-cyan); text-shadow: var(--glow-cyan); }
  .kpi-card.orange .kpi-value { color: var(--accent-orange); text-shadow: var(--glow-orange); }
  .kpi-card.green .kpi-value { color: var(--accent-green); text-shadow: var(--glow-green); }
  .kpi-card.yellow .kpi-value { color: var(--accent-yellow); }
  .kpi-card.purple .kpi-value { color: var(--accent-purple); }
  .kpi-sub { font-size: 11px; color: var(--text-muted); font-family: 'Share Tech Mono', monospace; }
  .main-grid { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 16px; margin-bottom: 16px; }
  .bottom-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; }
  .bottom-grid .card { max-height: 320px; overflow: hidden; }
  .card { background: var(--bg-card); border: 1px solid var(--border); padding: 20px; position: relative; overflow: hidden; }
  .card::after { content: ''; position: absolute; top: 0; right: 0; width: 40px; height: 40px; background: linear-gradient(225deg, rgba(0,212,255,0.08), transparent); clip-path: polygon(100% 0, 0 0, 100% 100%); }
  .card-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }
  .card-title { font-family: 'Orbitron', monospace; font-size: 11px; letter-spacing: 3px; color: var(--text-muted); text-transform: uppercase; }
  .card-badge { font-family: 'Share Tech Mono', monospace; font-size: 9px; padding: 3px 8px; border: 1px solid var(--border); letter-spacing: 2px; color: var(--text-muted); }
  .goal-ring-container { display: flex; flex-direction: column; align-items: center; padding: 10px 0; }
  .goal-ring { position: relative; width: 160px; height: 160px; margin-bottom: 16px; }
  .goal-ring canvas { position: absolute; top: 0; left: 0; }
  .goal-ring-center { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; }
  .goal-ring-pct { font-family: 'Orbitron', monospace; font-size: 28px; font-weight: 700; color: var(--accent-cyan); text-shadow: var(--glow-cyan); line-height: 1; }
  .goal-ring-label { font-family: 'Share Tech Mono', monospace; font-size: 9px; color: var(--text-muted); letter-spacing: 2px; margin-top: 4px; }
  .goal-stats-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; }
  .goal-stat { text-align: center; }
  .goal-stat-val { font-family: 'Orbitron', monospace; font-size: 16px; font-weight: 700; color: var(--accent-orange); }
  .goal-stat-lbl { font-family: 'Share Tech Mono', monospace; font-size: 9px; color: var(--text-muted); letter-spacing: 1px; }
  .pipeline-row { display: flex; align-items: center; gap: 12px; padding: 8px 0; border-bottom: 1px solid rgba(0,212,255,0.06); }
  .pipeline-row:last-child { border-bottom: none; }
  .pipeline-rank { font-family: 'Orbitron', monospace; font-size: 10px; color: var(--text-muted); width: 20px; text-align: center; }
  .pipeline-name { flex: 1; font-size: 12px; color: var(--text-primary); font-family: 'Share Tech Mono', monospace; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .pipeline-bar-wrap { width: 80px; height: 4px; background: rgba(0,212,255,0.1); border-radius: 2px; overflow: hidden; }
  .pipeline-bar { height: 100%; border-radius: 2px; background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple)); }
  .pipeline-val { font-family: 'Orbitron', monospace; font-size: 11px; color: var(--accent-green); width: 55px; text-align: right; }
  .funnel-row { display: flex; align-items: center; gap: 12px; margin-bottom: 10px; }
  .funnel-label { font-family: 'Share Tech Mono', monospace; font-size: 10px; color: var(--text-muted); width: 80px; letter-spacing: 1px; }
  .funnel-bar-wrap { flex: 1; height: 24px; background: rgba(0,212,255,0.05); border: 1px solid var(--border); position: relative; overflow: hidden; }
  .funnel-bar { height: 100%; position: relative; display: flex; align-items: center; padding-left: 8px; font-family: 'Orbitron', monospace; font-size: 11px; font-weight: 700; }
  .funnel-pct { font-family: 'Share Tech Mono', monospace; font-size: 10px; color: var(--text-muted); width: 45px; text-align: right; }
  .projection-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
  .proj-item { background: var(--bg-card2); border: 1px solid var(--border); padding: 12px; text-align: center; }
  .proj-val { font-family: 'Orbitron', monospace; font-size: 18px; font-weight: 700; color: var(--accent-yellow); margin-bottom: 4px; }
  .proj-label { font-family: 'Share Tech Mono', monospace; font-size: 9px; color: var(--text-muted); letter-spacing: 2px; }
  canvas { border-radius: 2px; }
  .card-scan::before { content: ''; position: absolute; top: -100%; left: 0; width: 100%; height: 2px; background: linear-gradient(90deg, transparent, var(--accent-cyan), transparent); opacity: 0.4; animation: scan 4s linear infinite; }
  @keyframes scan { 0% { top: -2px; } 100% { top: 100%; } }
  .month-panel { display: none; }
  .month-panel.active { display: block; }
  .ticker { background: rgba(0,212,255,0.05); border-top: 1px solid var(--border); border-bottom: 1px solid var(--border); padding: 8px 0; overflow: hidden; margin-bottom: 24px; }
  .ticker-inner { display: flex; gap: 40px; animation: tickerScroll 20s linear infinite; white-space: nowrap; }
  .ticker-item { font-family: 'Share Tech Mono', monospace; font-size: 11px; color: var(--text-muted); letter-spacing: 1px; }
  .ticker-item span { color: var(--accent-cyan); margin-left: 6px; }
  @keyframes tickerScroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
  .section-label { font-family: 'Orbitron', monospace; font-size: 9px; letter-spacing: 4px; color: var(--text-muted); text-transform: uppercase; margin-bottom: 12px; display: flex; align-items: center; gap: 12px; }
  .section-label::after { content: ''; flex: 1; height: 1px; background: var(--border); }
  .yoy-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; }
  .yoy-item { text-align: center; padding: 12px 8px; background: var(--bg-card2); border: 1px solid var(--border); }
  .yoy-val { font-family: 'Orbitron', monospace; font-size: 16px; font-weight: 700; margin-bottom: 4px; }
  .yoy-label { font-family: 'Share Tech Mono', monospace; font-size: 9px; color: var(--text-muted); letter-spacing: 1px; }
</style>
</head>
<body>
<div class="dashboard">

  <div class="header">
    <div class="header-left">
      <div class="header-subtitle">⬡ SDR PERFORMANCE SYSTEM ⬡</div>
      <div class="header-title">ADRIAN DELANEY</div>
    </div>
    <div class="header-right">
      <div class="live-badge"><div class="live-dot"></div>LIVE TRACKING</div>
      <div class="current-date" id="currentDate"></div>
    </div>
  </div>

  <div class="ticker"><div class="ticker-inner" id="tickerInner"></div></div>

  <div class="month-tabs">
    <button class="tab active" onclick="switchMonth('current')" id="tab-current"></button>
    <button class="tab" onclick="switchMonth('prev')" id="tab-prev"></button>
    <button class="tab" onclick="switchMonth('alltime')">ALL TIME</button>
  </div>

  <!-- CURRENT MONTH PANEL -->
  <div id="panel-current" class="month-panel active">
    <div class="kpi-grid">
      <div class="kpi-card cyan"><div class="kpi-label">Demos Booked</div><div class="kpi-value" id="c-demosBooked"></div><div class="kpi-sub" id="c-demosGoal"></div></div>
      <div class="kpi-card orange"><div class="kpi-label">Demos Shown</div><div class="kpi-value" id="c-demosShown"></div><div class="kpi-sub" id="c-showRate"></div></div>
      <div class="kpi-card green"><div class="kpi-label">Outbound Rev</div><div class="kpi-value" id="c-outboundRev"></div><div class="kpi-sub" id="c-revSourced"></div></div>
      <div class="kpi-card yellow"><div class="kpi-label">Personal Rev</div><div class="kpi-value" id="c-personalRev"></div><div class="kpi-sub" id="c-closeRate"></div></div>
      <div class="kpi-card cyan"><div class="kpi-label">% to Goal</div><div class="kpi-value" id="c-pctToGoal"></div><div class="kpi-sub" id="c-goalAmt"></div></div>
      <div class="kpi-card purple"><div class="kpi-label">% to EOM</div><div class="kpi-value" id="c-pctToEOM"></div><div class="kpi-sub">Time elapsed</div></div>
    </div>

    <div class="section-label">Performance Overview</div>
    <div class="main-grid">
      <div class="card card-scan">
        <div class="card-header"><span class="card-title" id="c-chartTitle"></span><span class="card-badge">MTD</span></div>
        <div style="position:relative;width:100%;height:150px">
          <canvas id="currentDailyChart"></canvas>
        </div>
      </div>
      <div class="card">
        <div class="card-header"><span class="card-title">Goal Progress</span><span class="card-badge" id="c-badge"></span></div>
        <div class="goal-ring-container">
          <div class="goal-ring">
            <canvas id="goalRingCurrent" width="160" height="160"></canvas>
            <div class="goal-ring-center">
              <div class="goal-ring-pct" id="c-ringPct"></div>
              <div class="goal-ring-label">TO GOAL</div>
            </div>
          </div>
          <div class="goal-stats-row">
            <div class="goal-stat"><div class="goal-stat-val" id="c-ringRev"></div><div class="goal-stat-lbl">Shows MTD</div></div>
            <div class="goal-stat"><div class="goal-stat-val" style="color:var(--accent-cyan)" id="c-ringGoal"></div><div class="goal-stat-lbl">Monthly Goal</div></div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-header"><span class="card-title">Sales Funnel</span><span class="card-badge" id="c-funnelBadge"></span></div>
        <div style="margin-top:8px" id="c-funnel"></div>
      </div>
    </div>

    <div class="section-label" style="margin-top:16px">Deep Metrics</div>
    <div class="bottom-grid">
      <div class="card">
        <div class="card-header"><span class="card-title">Month-over-Month</span><span class="card-badge" id="c-momBadge"></span></div>
        <div style="position:relative;width:100%;height:180px"><canvas id="momChart"></canvas></div>
      </div>
      <div class="card">
        <div class="card-header"><span class="card-title">Revenue Breakdown</span><span class="card-badge" id="c-revBadge"></span></div>
        <div style="position:relative;width:100%;height:160px"><canvas id="revDonut"></canvas></div>
        <div style="margin-top:12px;display:grid;grid-template-columns:1fr 1fr;gap:8px" id="c-revLegend"></div>
      </div>
      <div class="card">
        <div class="card-header"><span class="card-title">Key Rates</span><span class="card-badge" id="c-ratesBadge"></span></div>
        <div style="position:relative;width:100%;height:180px"><canvas id="ratesChart"></canvas></div>
      </div>
    </div>
  </div>

  <!-- PREV MONTH PANEL -->
  <div id="panel-prev" class="month-panel">
    <div class="kpi-grid">
      <div class="kpi-card cyan"><div class="kpi-label">Demos Booked</div><div class="kpi-value" id="p-demosBooked"></div><div class="kpi-sub" id="p-month"></div></div>
      <div class="kpi-card orange"><div class="kpi-label">Demos Shown</div><div class="kpi-value" id="p-demosShown"></div><div class="kpi-sub" id="p-showRate"></div></div>
      <div class="kpi-card green"><div class="kpi-label">Total Revenue</div><div class="kpi-value" id="p-totalRev"></div><div class="kpi-sub">Final</div></div>
      <div class="kpi-card yellow"><div class="kpi-label">Personal Rev</div><div class="kpi-value" id="p-personalRev"></div><div class="kpi-sub" id="p-closeRate"></div></div>
      <div class="kpi-card cyan"><div class="kpi-label">% to Goal</div><div class="kpi-value" id="p-pctToGoal"></div><div class="kpi-sub">Shows goal</div></div>
      <div class="kpi-card purple"><div class="kpi-label">Dials / Demo</div><div class="kpi-value" id="p-dialsPerDemo"></div><div class="kpi-sub">Efficiency ratio</div></div>
    </div>

    <div class="section-label" id="p-sectionLabel"></div>
    <div class="main-grid">
      <div class="card card-scan">
        <div class="card-header"><span class="card-title" id="p-chartTitle"></span><span class="card-badge">FULL MONTH</span></div>
        <div style="position:relative;width:100%;height:150px"><canvas id="prevDailyChart"></canvas></div>
      </div>
      <div class="card">
        <div class="card-header"><span class="card-title">Goal Progress</span><span class="card-badge" id="p-badge"></span></div>
        <div class="goal-ring-container">
          <div class="goal-ring">
            <canvas id="goalRingPrev" width="160" height="160"></canvas>
            <div class="goal-ring-center">
              <div class="goal-ring-pct" id="p-ringPct" style="color:var(--accent-green)"></div>
              <div class="goal-ring-label">TO GOAL</div>
            </div>
          </div>
          <div class="goal-stats-row">
            <div class="goal-stat"><div class="goal-stat-val" style="color:var(--accent-green)" id="p-ringRev"></div><div class="goal-stat-lbl">Shows</div></div>
            <div class="goal-stat"><div class="goal-stat-val" style="color:var(--accent-cyan)" id="p-ringGoal"></div><div class="goal-stat-lbl">Monthly Goal</div></div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-header"><span class="card-title">Sales Funnel</span><span class="card-badge" id="p-funnelBadge"></span></div>
        <div style="margin-top:8px" id="p-funnel"></div>
      </div>
    </div>

    <div class="section-label" style="margin-top:16px">Deep Metrics</div>
    <div class="bottom-grid">
      <div class="card">
        <div class="card-header"><span class="card-title">Daily Calls vs Demos</span><span class="card-badge" id="p-badge2"></span></div>
        <div style="position:relative;width:100%;height:180px"><canvas id="prevCallsChart"></canvas></div>
      </div>
      <div class="card">
        <div class="card-header"><span class="card-title">Weekly Demos Booked</span><span class="card-badge" id="p-badge3"></span></div>
        <div style="position:relative;width:100%;height:180px"><canvas id="prevWeeklyChart"></canvas></div>
      </div>
      <div class="card">
        <div class="card-header"><span class="card-title">Performance Rates</span><span class="card-badge" id="p-badge4"></span></div>
        <div style="position:relative;width:100%;height:180px"><canvas id="prevRatesChart"></canvas></div>
      </div>
    </div>
  </div>

  <!-- ALL TIME PANEL -->
  <div id="panel-alltime" class="month-panel">
    <div class="kpi-grid">
      <div class="kpi-card green"><div class="kpi-label">All-Time Rev</div><div class="kpi-value" id="at-totalRev"></div><div class="kpi-sub">Total outbound</div></div>
      <div class="kpi-card cyan"><div class="kpi-label">Avg / Month</div><div class="kpi-value" id="at-avgRev"></div><div class="kpi-sub" id="at-monthCount"></div></div>
      <div class="kpi-card orange"><div class="kpi-label">Best Month Rev</div><div class="kpi-value" id="at-bestRev"></div><div class="kpi-sub" id="at-bestRevMonth"></div></div>
      <div class="kpi-card yellow"><div class="kpi-label">Best Demo Month</div><div class="kpi-value" id="at-bestDemos"></div><div class="kpi-sub" id="at-bestDemoMonth"></div></div>
      <div class="kpi-card cyan"><div class="kpi-label">Current Month</div><div class="kpi-value" id="at-currentRev"></div><div class="kpi-sub">MTD</div></div>
      <div class="kpi-card purple"><div class="kpi-label">YOY Projection</div><div class="kpi-value" id="at-yoyProj"></div><div class="kpi-sub">At current pace</div></div>
    </div>

    <div class="section-label">All-Time Trend</div>
    <div class="main-grid" style="grid-template-columns: 2fr 1fr">
      <div class="card card-scan">
        <div class="card-header"><span class="card-title">Monthly Revenue Trend</span><span class="card-badge">ALL TIME</span></div>
        <div style="position:relative;width:100%;height:200px"><canvas id="allTimeChart"></canvas></div>
      </div>
      <div class="card">
        <div class="card-header"><span class="card-title">YOY Projections</span><span class="card-badge">2026</span></div>
        <div class="yoy-grid" style="margin-bottom:16px" id="at-yoyGrid"></div>
        <div style="margin-top:8px">
          <div class="section-label" style="font-size:8px;margin-bottom:10px">Month Comparison</div>
          <div id="at-monthRanking"></div>
        </div>
      </div>
    </div>

    <div class="section-label" style="margin-top:16px">Comparative Analysis</div>
    <div class="bottom-grid">
      <div class="card"><div class="card-header"><span class="card-title">Demos Set Trend</span></div><div style="position:relative;width:100%;height:180px"><canvas id="demosTrendChart"></canvas></div></div>
      <div class="card"><div class="card-header"><span class="card-title">Show Rate Trend</span></div><div style="position:relative;width:100%;height:180px"><canvas id="showRateTrend"></canvas></div></div>
      <div class="card"><div class="card-header"><span class="card-title">Pace to Annual Goal</span></div><div style="position:relative;width:100%;height:180px"><canvas id="annualGoalChart"></canvas></div></div>
    </div>
  </div>

</div>

<script>
// ── COLORS ──────────────────────────────────────────────────
const CYAN='#00d4ff', ORANGE='#ff6b1a', GREEN='#00ff88', YELLOW='#ffd600', PURPLE='#a855f7';
Chart.defaults.color='#4a7a9b';
Chart.defaults.borderColor='rgba(0,212,255,0.08)';
Chart.defaults.font.family="'Share Tech Mono', monospace";

// ── HELPERS ─────────────────────────────────────────────────
const fmt$ = v => v >= 1000 ? `$${(v/1000).toFixed(1)}K` : `$${v}`;
const fmtPct = v => `${v}%`;
const set = (id, val) => { const el = document.getElementById(id); if(el) el.textContent = val; };

// ── POPULATE UI FROM DATA ────────────────────────────────────
function populateUI() {
  const c = SDR_DATA.current;
  const p = SDR_DATA.prev;
  const at = SDR_DATA.allTime;

  // Tab labels
  document.getElementById('tab-current').textContent = c.month.toUpperCase();
  document.getElementById('tab-prev').textContent = p.month.toUpperCase();

  // CURRENT KPIs
  set('c-demosBooked', c.demosBooked);
  set('c-demosGoal', `Goal: ${SDR_DATA.goals.monthlyDemos}`);
  set('c-demosShown', c.demosShown);
  set('c-showRate', `▲ Show Rate ${c.showRate}%`);
  set('c-outboundRev', fmt$(c.outboundRev));
  set('c-revSourced', `Sourced: ${fmt$(c.revSourced)}`);
  set('c-personalRev', fmt$(c.personalRev));
  set('c-closeRate', `▲ ${c.closeRate}% close`);
  set('c-pctToGoal', fmtPct(c.pctToGoal));
  set('c-goalAmt', `Goal: ${fmt$(c.goal)}`);
  set('c-pctToEOM', fmtPct(c.pctToEOM));
  set('c-chartTitle', `Daily Demos Booked — ${c.month}`);
  set('c-badge', c.month.split(' ')[0].toUpperCase());
  const monthlyShowsGoal = (SDR_DATA.goals.monthlyShows) || 40;
  const showPct = Math.round(c.demosShown / monthlyShowsGoal * 100);
  set('c-ringPct', fmtPct(showPct));
  set('c-ringRev', c.demosShown);
  set('c-ringGoal', monthlyShowsGoal);
  set('c-funnelBadge', c.month.split(' ')[0].toUpperCase());
  set('c-momBadge', `${p.month.split(' ')[0].toUpperCase()} vs ${c.month.split(' ')[0].toUpperCase()}`);
  set('c-revBadge', c.month.split(' ')[0].toUpperCase());
  set('c-ratesBadge', c.month.split(' ')[0].toUpperCase());

  // CURRENT FUNNEL
  document.getElementById('c-funnel').innerHTML = buildFunnel([
    { label: 'DEMOS SET', val: c.demosBooked, pct: '100%', color: 'rgba(0,212,255,0.6)', textColor: CYAN, w: 100 },
    { label: 'SHOWN', val: c.demosShown, pct: `${c.showRate}%`, color: 'rgba(168,85,247,0.6)', textColor: PURPLE, w: c.showRate },
    { label: 'CLOSED', val: Math.round(c.demosShown * c.closeRate/100), pct: `${c.closeRate}%`, color: 'rgba(0,255,136,0.6)', textColor: GREEN, w: c.closeRate }
  ]) + `<div style="margin-top:16px;padding-top:12px;border-top:1px solid var(--border)">
    <div class="projection-grid">
      <div class="proj-item"><div class="proj-val">${fmt$(Math.round(c.revSourced / c.pctToEOM * 100))}</div><div class="proj-label">EOM Rev Est.</div></div>
      <div class="proj-item"><div class="proj-val">${Math.round(c.demosBooked / c.pctToEOM * 100)}</div><div class="proj-label">EOM Demos Est.</div></div>
    </div></div>`;

  // PREV KPIs
  set('p-demosBooked', p.demosBooked);
  set('p-month', p.month);
  set('p-demosShown', p.demosShown);
  set('p-showRate', `${p.showRate}% show rate`);
  set('p-totalRev', fmt$(p.totalRev));
  set('p-personalRev', fmt$(p.personalRev || 0));
  set('p-closeRate', `▲ ${p.closeRate}% close`);
  set('p-pctToGoal', `${Math.round(p.demosShown / ((SDR_DATA.goals.monthlyShows)||40) * 100)}%`);
  set('p-dialsPerDemo', p.dialsPerDemo);
  set('p-sectionLabel', `${p.month} Overview`);
  set('p-chartTitle', `Daily Activity — ${p.month}`);
  set('p-badge', p.month.split(' ')[0].toUpperCase());
  set('p-badge2', p.month.split(' ')[0].toUpperCase());
  set('p-badge3', p.month.split(' ')[0].toUpperCase());
  set('p-badge4', p.month.split(' ')[0].toUpperCase());
  set('p-funnelBadge', p.month.split(' ')[0].toUpperCase());
  const prevShowPct = Math.round(p.demosShown / ((SDR_DATA.goals.monthlyShows)||40) * 100);
  set('p-ringPct', `${prevShowPct}%`);
  set('p-ringRev', p.demosShown);
  set('p-ringGoal', (SDR_DATA.goals.monthlyShows)||40);

  // PREV FUNNEL
  document.getElementById('p-funnel').innerHTML = buildFunnel([
    { label: 'CALLS', val: p.callsMade, pct: '100%', color: 'rgba(0,212,255,0.6)', textColor: CYAN, w: 100 },
    { label: 'DEMOS SET', val: p.demosBooked, pct: `${((p.demosBooked/p.callsMade)*100).toFixed(1)}%`, color: 'rgba(168,85,247,0.6)', textColor: PURPLE, w: (p.demosBooked/p.callsMade)*100 },
    { label: 'SHOWN', val: p.demosShown, pct: `${p.showRate}%`, color: 'rgba(255,107,26,0.6)', textColor: ORANGE, w: (p.demosShown/p.callsMade)*100 },
    { label: 'CLOSED', val: Math.round(p.demosShown*p.closeRate/100), pct: `~${p.closeRate}%`, color: 'rgba(0,255,136,0.6)', textColor: GREEN, w: Math.max(1, (p.demosShown*p.closeRate/100/p.callsMade)*100) }
  ]) + `<div style="margin-top:16px;padding-top:12px;border-top:1px solid var(--border)">
    <div class="projection-grid">
      <div class="proj-item"><div class="proj-val" style="color:var(--accent-green)">${fmt$(p.totalRev)}</div><div class="proj-label">Final Revenue</div></div>
      <div class="proj-item"><div class="proj-val" style="color:var(--accent-green)">${p.demosBooked}</div><div class="proj-label">Demos Booked</div></div>
    </div></div>`;

  // ALL TIME KPIs
  const totalRev = at.revenue.reduce((a,b) => a+b, 0);
  const avgRev = Math.round(totalRev / at.months.length);
  const bestRevIdx = at.revenue.indexOf(Math.max(...at.revenue));
  const bestDemoIdx = at.demos.indexOf(Math.max(...at.demos));
  const yoyProj = avgRev * 12;

  set('at-totalRev', fmt$(totalRev));
  set('at-avgRev', fmt$(avgRev));
  set('at-monthCount', `${at.months.length}-month avg`);
  set('at-bestRev', fmt$(at.revenue[bestRevIdx]));
  set('at-bestRevMonth', at.months[bestRevIdx]);
  set('at-bestDemos', at.demos[bestDemoIdx]);
  set('at-bestDemoMonth', at.months[bestDemoIdx]);
  set('at-currentRev', fmt$(c.revSourced));
  set('at-yoyProj', fmt$(yoyProj));

  // YOY grid
  document.getElementById('at-yoyGrid').innerHTML = `
    <div class="yoy-item"><div class="yoy-val" style="color:var(--accent-green)">${fmt$(yoyProj)}</div><div class="yoy-label">Annual Rev Proj.</div></div>
    <div class="yoy-item"><div class="yoy-val" style="color:var(--accent-cyan)">${fmt$(avgRev)}</div><div class="yoy-label">Avg Monthly</div></div>
    <div class="yoy-item"><div class="yoy-val" style="color:var(--accent-yellow)">${p.callsMade}</div><div class="yoy-label">Peak Calls/Mo</div></div>`;

  // Month ranking
  const sorted = at.months.map((m,i) => ({m, r: at.revenue[i]})).sort((a,b) => b.r-a.r);
  const maxR = sorted[0].r;
  document.getElementById('at-monthRanking').innerHTML = sorted.map((item, i) =>
    `<div class="pipeline-row">
      <div class="pipeline-rank">${i+1}</div>
      <div class="pipeline-name">${item.m}</div>
      <div class="pipeline-bar-wrap"><div class="pipeline-bar" style="width:${Math.round(item.r/maxR*100)}%"></div></div>
      <div class="pipeline-val">${fmt$(item.r)}</div>
    </div>`).join('');

  // Rev legend
  document.getElementById('c-revLegend').innerHTML = [
    [CYAN, 'Rev Sourced', c.revSourced],
    [ORANGE, 'Personal Rev', c.personalRev],
    [PURPLE, 'Outbound Rev', c.outboundRev]
  ].map(([color, label, val]) =>
    `<div style="display:flex;align-items:center;gap:6px">
      <div style="width:10px;height:10px;background:${color};border-radius:2px"></div>
      <span style="font-family:'Share Tech Mono';font-size:10px;color:var(--text-muted)">${label} <span style="color:var(--text-primary)">${fmt$(val)}</span></span>
    </div>`).join('');
}

function buildFunnel(rows) {
  return rows.map(r => `
    <div class="funnel-row">
      <div class="funnel-label">${r.label}</div>
      <div class="funnel-bar-wrap">
        <div class="funnel-bar" style="width:${Math.max(r.w,2)}%;background:linear-gradient(90deg,${r.color},${r.color.replace('0.6','0.3')})">
          <span style="color:${r.textColor}">${r.val}</span>
        </div>
      </div>
      <div class="funnel-pct">${r.pct}</div>
    </div>`).join('');
}

// ── BUILD CHARTS ─────────────────────────────────────────────
function buildCharts() {
  const c = SDR_DATA.current;
  const p = SDR_DATA.prev;
  const at = SDR_DATA.allTime;

  // Current daily bar
  const maxDemos = Math.max(...c.daily.demos, 1);
  new Chart(document.getElementById('currentDailyChart'), {
    type: 'bar',
    data: {
      labels: c.daily.dates,
      datasets: [{ label: 'Demos Booked', data: c.daily.demos,
        backgroundColor: c.daily.demos.map(v => v>=4?'rgba(0,255,136,0.75)':v>=2?'rgba(0,212,255,0.65)':v===0?'rgba(255,107,26,0.4)':'rgba(0,212,255,0.4)'),
        borderColor: c.daily.demos.map(v => v>=4?GREEN:CYAN),
        borderWidth: 1, borderRadius: 3 }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins:{ legend:{display:false}, tooltip:{backgroundColor:'#0a1520',borderColor:CYAN,borderWidth:1,callbacks:{label:ctx=>`Demos: ${ctx.raw}`}} },
      scales:{
        x:{grid:{display:false},ticks:{font:{size:9},maxRotation:0}},
        y:{grid:{color:'rgba(0,212,255,0.06)'},ticks:{font:{size:9},stepSize:1,precision:0},beginAtZero:true,max:maxDemos+1,min:0}
      }
    }
  });

  // Goal ring current
  const showPctRing = Math.round(c.demosShown / ((SDR_DATA.goals.monthlyShows) || 40) * 100);
  new Chart(document.getElementById('goalRingCurrent'), {
    type: 'doughnut',
    data: { datasets:[{ data:[Math.min(showPctRing,100), Math.max(100-showPctRing,0)],
      backgroundColor:['rgba(0,212,255,0.8)','rgba(0,212,255,0.08)'], borderWidth:0 }] },
    options:{ cutout:'72%', plugins:{legend:{display:false},tooltip:{enabled:false}}, animation:{animateRotate:true,duration:1200} }
  });

  // Goal ring prev
  const prevPct = Math.min(Math.round(p.demosShown / ((SDR_DATA.goals.monthlyShows)||40) * 100), 100);
  new Chart(document.getElementById('goalRingPrev'), {
    type: 'doughnut',
    data: { datasets:[{ data:[prevPct, 100-prevPct],
      backgroundColor:['rgba(0,255,136,0.8)','rgba(0,255,136,0.08)'], borderWidth:0 }] },
    options:{ cutout:'72%', plugins:{legend:{display:false},tooltip:{enabled:false}} }
  });

  // MOM comparison
  new Chart(document.getElementById('momChart'), {
    type: 'bar',
    data: {
      labels: ['Demos Booked','Demos Shown','Close Rate'],
      datasets: [
        { label: p.month, data:[p.demosBooked,p.demosShown,p.closeRate], backgroundColor:'rgba(0,212,255,0.5)', borderColor:CYAN, borderWidth:1, borderRadius:2 },
        { label: c.month, data:[c.demosBooked,c.demosShown,c.closeRate], backgroundColor:'rgba(255,107,26,0.5)', borderColor:ORANGE, borderWidth:1, borderRadius:2 }
      ]
    },
    options:{ responsive:true, maintainAspectRatio:false,
      plugins:{legend:{labels:{font:{size:9},boxWidth:10}},tooltip:{backgroundColor:'#0a1520',borderColor:CYAN,borderWidth:1}},
      scales:{x:{grid:{display:false},ticks:{font:{size:9}}},y:{grid:{color:'rgba(0,212,255,0.06)'},ticks:{font:{size:9}},beginAtZero:true}}
    }
  });

  // Rev donut
  new Chart(document.getElementById('revDonut'), {
    type: 'doughnut',
    data: { labels:['Rev Sourced','Personal Rev','Outbound Rev'],
      datasets:[{ data:[c.revSourced,c.personalRev,c.outboundRev],
        backgroundColor:['rgba(0,212,255,0.7)','rgba(255,107,26,0.7)','rgba(168,85,247,0.7)'],
        borderColor:'#050a0f', borderWidth:2, hoverOffset:6 }]
    },
    options:{ cutout:'60%', plugins:{legend:{display:false},tooltip:{backgroundColor:'#0a1520',borderColor:CYAN,borderWidth:1,callbacks:{label:ctx=>` $${ctx.raw.toLocaleString()}`}}} }
  });

  // Rates radar
  new Chart(document.getElementById('ratesChart'), {
    type: 'radar',
    data: { labels:['Show Rate','Close Rate','% to Goal','% to EOM','Demos/Day Pace'],
      datasets:[{ data:[c.showRate,c.closeRate,c.pctToGoal,c.pctToEOM,64], fill:true,
        backgroundColor:'rgba(0,212,255,0.12)', borderColor:CYAN, borderWidth:2, pointBackgroundColor:CYAN, pointRadius:4 }]
    },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}},
      scales:{r:{beginAtZero:true,max:100,grid:{color:'rgba(0,212,255,0.1)'},pointLabels:{font:{size:9},color:'#4a7a9b'},ticks:{display:false}}}
    }
  });

  // Prev daily line
  if (p.daily.calls) {
    const ctx = document.getElementById('prevDailyChart').getContext('2d');
    const grad = ctx.createLinearGradient(0,0,0,200);
    grad.addColorStop(0,'rgba(0,212,255,0.4)'); grad.addColorStop(1,'rgba(0,212,255,0.01)');
    new Chart(ctx, {
      type: 'line',
      data: { labels: p.daily.dates,
        datasets:[
          { label:'Calls Made', data:p.daily.calls, fill:true, backgroundColor:grad, borderColor:CYAN, borderWidth:2, tension:0.4, pointRadius:3, pointBackgroundColor:CYAN, yAxisID:'y' },
          { label:'Demos Booked', data:p.daily.demos, fill:false, borderColor:ORANGE, borderWidth:2, tension:0.4, pointRadius:4, pointBackgroundColor:ORANGE, yAxisID:'y1' }
        ]
      },
      options:{ responsive:true, maintainAspectRatio:false, interaction:{mode:'index',intersect:false},
        plugins:{legend:{labels:{font:{size:9},boxWidth:10}},tooltip:{backgroundColor:'#0a1520',borderColor:CYAN,borderWidth:1}},
        scales:{ x:{grid:{display:false},ticks:{font:{size:8},maxRotation:45}}, y:{position:'left',grid:{color:'rgba(0,212,255,0.06)'},ticks:{font:{size:9}},beginAtZero:true}, y1:{position:'right',grid:{drawOnChartArea:false},ticks:{font:{size:9},stepSize:1},beginAtZero:true} }
      }
    });
  }

  // Prev calls chart
  if (p.daily.calls) {
    new Chart(document.getElementById('prevCallsChart'), {
      type: 'bar',
      data: { labels: p.daily.dates,
        datasets:[
          { label:'Calls', data:p.daily.calls, backgroundColor:'rgba(0,212,255,0.4)', borderColor:CYAN, borderWidth:1, borderRadius:2, yAxisID:'y' },
          { label:'Demos', data:p.daily.demos, backgroundColor:'rgba(255,214,0,0.7)', borderColor:YELLOW, borderWidth:1, type:'line', tension:0.4, fill:false, pointRadius:4, yAxisID:'y1' }
        ]
      },
      options:{ responsive:true, maintainAspectRatio:false,
        plugins:{legend:{labels:{font:{size:9},boxWidth:10}},tooltip:{backgroundColor:'#0a1520',borderColor:CYAN,borderWidth:1}},
        scales:{ x:{grid:{display:false},ticks:{font:{size:8},maxRotation:45}}, y:{position:'left',grid:{color:'rgba(0,212,255,0.06)'},ticks:{font:{size:9}},beginAtZero:true}, y1:{position:'right',grid:{drawOnChartArea:false},ticks:{font:{size:9},stepSize:1},beginAtZero:true} }
      }
    });
  }

  // Prev weekly — chunk demos into weeks of 5
  const demos = p.daily.demos;
  const weeks = [];
  const wkLabels = [];
  for(let i=0; i<demos.length; i+=5) {
    weeks.push(demos.slice(i,i+5).reduce((a,b)=>a+b,0));
    wkLabels.push(`Wk ${weeks.length}`);
  }
  new Chart(document.getElementById('prevWeeklyChart'), {
    type: 'bar',
    data: { labels: wkLabels,
      datasets:[{ label:'Demos Booked', data:weeks,
        backgroundColor:['rgba(0,212,255,0.6)','rgba(168,85,247,0.6)','rgba(0,255,136,0.6)','rgba(255,107,26,0.6)'],
        borderColor:[CYAN,PURPLE,GREEN,ORANGE], borderWidth:1, borderRadius:3 }]
    },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false},tooltip:{backgroundColor:'#0a1520',borderColor:CYAN,borderWidth:1}},
      scales:{x:{grid:{display:false},ticks:{font:{size:9}}},y:{grid:{color:'rgba(0,212,255,0.06)'},ticks:{font:{size:9},stepSize:2},beginAtZero:true}}
    }
  });

  // Prev rates radar
  new Chart(document.getElementById('prevRatesChart'), {
    type: 'radar',
    data: { labels:['Show Rate','Close Rate','% to Goal','Calls/Day','Demos/Day'],
      datasets:[{ data:[p.showRate,p.closeRate,p.pctToGoal,100,80], fill:true,
        backgroundColor:'rgba(0,255,136,0.12)', borderColor:GREEN, borderWidth:2, pointBackgroundColor:GREEN, pointRadius:4 }]
    },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}},
      scales:{r:{beginAtZero:true,max:100,grid:{color:'rgba(0,212,255,0.1)'},pointLabels:{font:{size:9},color:'#4a7a9b'},ticks:{display:false}}}
    }
  });

  // All time revenue
  const atCtx = document.getElementById('allTimeChart').getContext('2d');
  const atGrad = atCtx.createLinearGradient(0,0,0,300);
  atGrad.addColorStop(0,'rgba(0,255,136,0.4)'); atGrad.addColorStop(1,'rgba(0,255,136,0.01)');
  new Chart(atCtx, {
    type: 'line',
    data: { labels: at.months, datasets:[{ data:at.revenue, fill:true, backgroundColor:atGrad, borderColor:GREEN, borderWidth:3, tension:0.4, pointRadius:6, pointBackgroundColor:GREEN, pointBorderColor:'#050a0f', pointBorderWidth:2 }] },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false},tooltip:{backgroundColor:'#0a1520',borderColor:GREEN,borderWidth:1,callbacks:{label:ctx=>` $${ctx.raw.toLocaleString()}`}}},
      scales:{x:{grid:{display:false},ticks:{font:{size:11}}},y:{grid:{color:'rgba(0,212,255,0.06)'},ticks:{font:{size:9},callback:v=>`$${(v/1000).toFixed(0)}K`},beginAtZero:true}}
    }
  });

  // Demos trend
  new Chart(document.getElementById('demosTrendChart'), {
    type: 'bar',
    data: { labels: at.months, datasets:[{ data:at.demos, backgroundColor:'rgba(0,212,255,0.6)', borderColor:CYAN, borderWidth:1, borderRadius:4 }] },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false},tooltip:{backgroundColor:'#0a1520',borderColor:CYAN,borderWidth:1}},
      scales:{x:{grid:{display:false},ticks:{font:{size:9}}},y:{grid:{color:'rgba(0,212,255,0.06)'},ticks:{font:{size:9},stepSize:10},beginAtZero:true}}
    }
  });

  // Show rate trend
  new Chart(document.getElementById('showRateTrend'), {
    type: 'line',
    data: { labels: at.months, datasets:[{ data:at.showRates, fill:false, borderColor:YELLOW, borderWidth:2, tension:0.4, pointRadius:6, pointBackgroundColor:YELLOW, pointBorderColor:'#050a0f', pointBorderWidth:2 }] },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false},tooltip:{backgroundColor:'#0a1520',borderColor:YELLOW,borderWidth:1,callbacks:{label:ctx=>` ${ctx.raw}%`}}},
      scales:{x:{grid:{display:false},ticks:{font:{size:9}}},y:{grid:{color:'rgba(0,212,255,0.06)'},ticks:{font:{size:9},callback:v=>v+'%'},min:60,max:100}}
    }
  });

  // Annual goal pace
  const actual = at.revenue.map((v,i) => ({x: at.months[i], y: v}));
  new Chart(document.getElementById('annualGoalChart'), {
    type: 'bar',
    data: { labels: at.months,
      datasets:[
        { label:'Actual', data:at.revenue, backgroundColor:'rgba(0,255,136,0.6)', borderColor:GREEN, borderWidth:1, borderRadius:2 },
        { label:'Goal Line', data:at.months.map(()=>SDR_DATA.goals.monthlyRev), type:'line', borderColor:CYAN, borderWidth:2, borderDash:[6,3], pointRadius:0, fill:false }
      ]
    },
    options:{ responsive:true, maintainAspectRatio:false,
      plugins:{legend:{labels:{font:{size:9},boxWidth:10}},tooltip:{backgroundColor:'#0a1520',borderColor:CYAN,borderWidth:1,callbacks:{label:ctx=>ctx.raw?` $${ctx.raw.toLocaleString()}`:''}}} ,
      scales:{x:{grid:{display:false},ticks:{font:{size:9}}},y:{grid:{color:'rgba(0,212,255,0.06)'},ticks:{font:{size:9},callback:v=>`$${(v/1000).toFixed(0)}K`},beginAtZero:true}}
    }
  });
}

// ── TAB SWITCHING ────────────────────────────────────────────
function switchMonth(month) {
  document.querySelectorAll('.tab').forEach((t,i) => {
    t.classList.toggle('active', ['current','prev','alltime'][i] === month);
  });
  document.querySelectorAll('.month-panel').forEach(p => p.classList.remove('active'));
  document.getElementById(`panel-${month}`).classList.add('active');
}

// ── DATE & TICKER ────────────────────────────────────────────
function updateDate() {
  const now = new Date();
  document.getElementById('currentDate').textContent = now.toLocaleDateString('en-US',{weekday:'short',year:'numeric',month:'short',day:'numeric'}).toUpperCase();
}

function buildTicker() {
  const c = SDR_DATA.current;
  const p = SDR_DATA.prev;
  const items = [
    [`DEMOS BOOKED (${c.month.split(' ')[0].toUpperCase()} MTD)`, c.demosBooked],
    [`REVENUE SOURCED (${c.month.split(' ')[0].toUpperCase()} MTD)`, fmt$(c.revSourced)],
    [`SHOW RATE (${c.month.split(' ')[0].toUpperCase()})`, `${c.showRate}%`],
    [`CLOSE RATE (${c.month.split(' ')[0].toUpperCase()})`, `${c.closeRate}%`],
    [`% TO GOAL (${c.month.split(' ')[0].toUpperCase()})`, `${c.pctToGoal}%`],
    [`${p.month.toUpperCase()} TOTAL REV`, fmt$(p.totalRev)],
    [`${p.month.toUpperCase()} CALLS MADE`, p.callsMade.toLocaleString()],
    [`${p.month.toUpperCase()} DEMOS BOOKED`, p.demosBooked],
    ['ALL TIME REV', fmt$(SDR_DATA.allTime.revenue.reduce((a,b)=>a+b,0))],
  ];
  const doubled = [...items,...items];
  document.getElementById('tickerInner').innerHTML = doubled.map(([k,v]) =>
    `<span class="ticker-item">${k}<span>${v}</span></span>`).join('');
}

// ── INIT ─────────────────────────────────────────────────────
document.addEventListener('DOMContentLoaded', () => {
  updateDate();
  populateUI();
  buildTicker();
  buildCharts();
});
</script>
</body>
</html>
